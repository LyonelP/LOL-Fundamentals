<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Diana Rune Calculator</title>
<style>
body {
  margin:0;
  font-family: 'Beaufort for LOL', Arial, sans-serif;
  color:#fff;
  background:url('https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Diana_0.jpg') center/cover fixed;
}
body::before {
  content:"";
  position:fixed; top:0; left:0; width:100%; height:100%;
  background:rgba(10,15,20,0.7); z-index:-1;
}
header {
  background: rgba(13,17,23,0.9);
  border-bottom:2px solid #c9aa71;
  padding:15px;
  font-size:26px;
  color:#c9aa71;
  font-weight:bold;
  text-transform:uppercase;
  text-align:center;
}
.back-button {
  display:inline-block;
  margin:10px auto;
  padding:8px 20px;
  background:linear-gradient(135deg,#c9aa71,#e0c77b);
  color:#000; text-decoration:none; border-radius:6px; font-weight:bold;
  text-align:center;
}
.back-button::before{content:"← ";}
.back-button:hover{background:linear-gradient(135deg,#e6c97f,#f0d88b);}
.calc-container{
  max-width:1000px;
  margin:20px auto 50px;
  background: rgba(13,17,23,0.95);
  border:2px solid #2f81f7;
  border-radius:12px;
  padding:20px;
  text-align:left;
}
.section-title{
  color:#c9aa71;
  font-size:20px;
  margin-bottom:10px;
  text-transform:uppercase;
}
.input-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:15px;
  margin-bottom:15px;
}
.input-box{
  background:rgba(20,25,35,0.8);
  border:1px solid #2f81f7;
  border-radius:8px;
  padding:12px;
  text-align:left;
}
.input-box label{
  display:block;margin-bottom:6px;font-size:14px;
}
.input-box input, .input-box select{
  width:90%;padding:5px;border-radius:5px;border:1px solid #222;
  background:#0f1722;color:#fff;
}
.calculate-btn{
  display:block; margin:10px auto; padding:10px 20px;
  font-size:16px;font-weight:bold;
  border:none; border-radius:6px; background:#2f81f7;color:#fff; cursor:pointer;
}
.calculate-btn:hover{background:#1b5fc7;}
.results-box{
  margin-top:12px;
  background:rgba(20,25,35,0.9);
  border:1px solid #c9aa71;
  border-radius:8px;
  padding:12px;
  font-size:14px;
}
.results-box table{width:100%;border-collapse:collapse;margin-bottom:10px;}
.results-box th, .results-box td{padding:4px;text-align:left;border-bottom:1px solid rgba(255,255,255,0.05);}
.results-box th{color:#c9aa71;font-weight:600;}
footer{text-align:center;padding:12px;font-size:14px;color:#8b949e;}
@media(max-width:780px){.input-grid{grid-template-columns:1fr;}}
</style>
</head>
<body>
<header>Diana Rune Calculator</header>
<a href="membershub.html" class="back-button">Return to Members Hub</a>

<div class="calc-container">
  <div class="section-title">Diana Level & Stats</div>
  <div class="input-grid">
    <div class="input-box">
      <label>Level
        <select id="diana-level"></select>
      </label>
    </div>
    <div class="input-box">
      <p id="diana-stats">HP: 0 | AP: 0 | AD: 0 | Shield: 0</p>
    </div>
  </div>

  <div class="section-title">Enemy Stats</div>
  <div class="input-grid">
    <div class="input-box">
      <label>HP<input type="number" id="enemy-hp" value="2000" step="1"></label>
    </div>
    <div class="input-box">
      <label>Armor<input type="number" id="enemy-armor" value="80" step="1"></label>
      <label>MR<input type="number" id="enemy-mr" value="40" step="1"></label>
    </div>
  </div>

  <div class="section-title">Primary Rune Tree</div>
  <div class="input-grid" id="primary-tree-select"></div>
  <div class="input-grid" id="primary-runes"></div>

  <div class="section-title">Secondary Rune Tree</div>
  <div class="input-grid" id="secondary-tree-select"></div>
  <div class="input-grid" id="secondary-runes"></div>

  <button class="calculate-btn" id="calculate-btn">Calculate Damage</button>

  <div class="results-box">
    <h4>Damage per Rune</h4>
    <table id="rune-results">
      <thead><tr><th>Rune</th><th>Base+Scaling</th><th>After Resistances</th><th>Notes</th></tr></thead>
      <tbody><tr><td colspan="4">Click Calculate</td></tr></tbody>
    </table>
    <p id="total-damage"></p>
  </div>
</div>

<footer>© 2025 LoL Fundamentals · All rights reserved</footer>

<script>
// --- Diana stats per level
const dianaBaseStats = [
  {hp:600, ap:0, ad:50, shield:50},{hp:620, ap:0, ad:52, shield:55},{hp:640, ap:0, ad:54, shield:60},
  {hp:660, ap:0, ad:56, shield:65},{hp:680, ap:0, ad:58, shield:70},{hp:700, ap:0, ad:60, shield:75},
  {hp:740, ap:0, ad:62, shield:80},{hp:780, ap:0, ad:64, shield:85},{hp:820, ap:0, ad:66, shield:90},
  {hp:860, ap:0, ad:68, shield:95},{hp:900, ap:0, ad:70, shield:100},{hp:940, ap:0, ad:72, shield:105},
  {hp:980, ap:0, ad:74, shield:110},{hp:1020, ap:0, ad:76, shield:115},{hp:1060, ap:0, ad:78, shield:120},
  {hp:1100, ap:0, ad:80, shield:125},{hp:1140, ap:0, ad:82, shield:130},{hp:1180, ap:0, ad:84, shield:135},
];

// --- Trees
const trees = ['Domination','Precision','Sorcery','Resolve','Inspiration'];

// --- Runedata (example subset)
const runesByTree = {
  Domination:[
    {id:'electrocute', name:'Electrocute', type:'magic', base:70, scaling:0.5, notes:'3-hit proc'},
    {id:'suddenImpact', name:'Sudden Impact', type:'adaptive', base:9, scaling:0.05, notes:'On dash'},
    {id:'tasteOfBlood', name:'Taste of Blood', type:'magic', base:15, scaling:0.1, notes:'Heal'},
    {id:'ravenousHunter', name:'Ravenous Hunter', type:'magic', base:0, scaling:0.05, notes:'Heal per damage'}
  ],
  Precision:[
    {id:'pressTheAttack', name:'Press The Attack', type:'adaptive', base:30, scaling:0.2, notes:'3-hit proc'},
    {id:'triumph', name:'Triumph', type:'adaptive', base:0, scaling:0.05, notes:'Heal'},
    {id:'alacrity', name:'Alacrity', type:'adaptive', base:0, scaling:0.05, notes:'AS buff'},
    {id:'coupDeGrace', name:'Coup de Grace', type:'adaptive', base:0, scaling:0.05, notes:'Bonus dmg to low HP'}
  ],
  Sorcery:[
    {id:'arcaneComet', name:'Arcane Comet', type:'magic', base:30, scaling:0.2, notes:'Spell hit'},
    {id:'nullifyingOrb', name:'Nullifying Orb', type:'magic', base:0, scaling:0.05, notes:'Shield'},
    {id:'transcendence', name:'Transcendence', type:'magic', base:0, scaling:0.05, notes:'AP gain'},
    {id:'scorch', name:'Scorch', type:'magic', base:15, scaling:0.1, notes:'Spell hit'}
  ],
  Resolve:[
    {id:'aftershock', name:'Aftershock', type:'adaptive', base:30, scaling:0.1, notes:'On CC'},
    {id:'fontOfLife', name:'Font of Life', type:'adaptive', base:0, scaling:0.05, notes:'Buff allies'},
    {id:'conditioning', name:'Conditioning', type:'adaptive', base:0, scaling:0.05, notes:'Bonus resist'},
    {id:'revitalize', name:'Revitalize', type:'adaptive', base:0, scaling:0.05, notes:'Healing boost'}
  ],
  Inspiration:[
    {id:'glacialAugment', name:'Glacial Augment', type:'adaptive', base:0, scaling:0.05, notes:'Slow'},
    {id:'futureMarket', name:'Future\'s Market', type:'adaptive', base:0, scaling:0.05, notes:'Gold'},
    {id:'minionDematerializer', name:'Minion Dematerializer', type:'adaptive', base:0, scaling:0.05, notes:'Lane control'},
    {id:'biscuitDelivery', name:'Biscuit Delivery', type:'adaptive', base:0, scaling:0.05, notes:'Sustain'}
  ]
};

// Populate level dropdown
const levelSelect = document.getElementById('diana-level');
for(let i=1;i<=18;i++){const opt=document.createElement('option');opt.value=i;opt.textContent=i;levelSelect.appendChild(opt);}
levelSelect.value=1;
function updateStats(){
  const lvl = Number(levelSelect.value)-1;
  const s=dianaBaseStats[lvl];
  document.getElementById('diana-stats').textContent=`HP: ${s.hp} | AP: ${s.ap} | AD: ${s.ad} | Shield: ${s.shield}`;
}
levelSelect.addEventListener('change',updateStats);
updateStats();

// Create tree selection dropdowns
function createTreeSelect(containerId, onChange){
  const container = document.getElementById(containerId);
  trees.forEach(tree=>{
    const btn = document.createElement('button');
    btn.textContent=tree;
    btn.style.margin='2px';
    btn.onclick=()=>onChange(tree);
    container.appendChild(btn);
  });
}

// Populate runes based on tree
function populateRunes(containerId, tree, numSlots){
  const container=document.getElementById(containerId);
  container.innerHTML='';
  const runes=runesByTree[tree];
  for(let i=0;i<numSlots;i++){
    const div=document.createElement('div');
    const select=document.createElement('select');
    runes.forEach(r=>{
      const opt=document.createElement('option');opt.value=r.id;opt.textContent=r.name;
      select.appendChild(opt);
    });
    div.appendChild(select);container.appendChild(div);
  }
}

// Primary and secondary tree selection
let primaryTree='', secondaryTree='';
createTreeSelect('primary-tree-select',tree=>{
  primaryTree=tree;
  populateRunes('primary-runes',tree,4);
});
createTreeSelect('secondary-tree-select',tree=>{
  if(tree===primaryTree) return;
  secondaryTree=tree;
  populateRunes('secondary-runes',tree,2);
});

// Damage calculation
function calcDamage(rune, stats, enemyArmor, enemyMR){
  let raw=rune.base + (rune.scaling||0)*stats.ap;
  if(rune.type==='magic') raw=Math.round(raw*100/(100+enemyMR));
  if(rune.type==='physical') raw=Math.round(raw*100/(100+enemyArmor));
  return {raw:Math.round(raw), afterRes:raw, notes:rune.notes};
}

// Calculate button
document.getElementById('calculate-btn').addEventListener('click',()=>{
  const lvl=Number(levelSelect.value)-1;const stats=dianaBaseStats[lvl];
  const enemyArmor=Number(document.getElementById('enemy-armor').value);
  const enemyMR=Number(document.getElementById('enemy-mr').value);
  const selectedRunes=[];
  document.querySelectorAll('#primary-runes select').forEach(s=>{const r=runesByTree[primaryTree].find(r=>r.id===s.value);if(r) selectedRunes.push(r);});
  document.querySelectorAll('#secondary-runes select').forEach(s=>{const r=runesByTree[secondaryTree].find(r=>r.id===s.value);if(r) selectedRunes.push(r);});
  const tbody=document.querySelector('#rune-results tbody');tbody.innerHTML='';let total=0;
  selectedRunes.forEach(r=>{const dmg=calcDamage(r,stats,enemyArmor,enemyMR);total+=dmg.afterRes;const tr=document.createElement('tr');tr.innerHTML=`<td>${r.name}</td><td>${dmg.raw}</td><td>${dmg.afterRes}</td><td>${dmg.notes}</td>`;tbody.appendChild(tr);});
  document.getElementById('total-damage').textContent=`Total Damage: ${total}`;
});
</script>
</body>
</html>



