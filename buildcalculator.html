<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Diana Rune Calculator</title>
<style>
body {
  margin:0;
  font-family: 'Beaufort for LOL', Arial, sans-serif;
  color:#fff;
  background:url('https://ddragon.leagueoflegends.com/cdn/img/champion/splash/Diana_0.jpg') center/cover fixed;
}
body::before {
  content:"";
  position:fixed; top:0; left:0; width:100%; height:100%;
  background:rgba(10,15,20,0.7); z-index:-1;
}
header {
  background: rgba(13,17,23,0.9);
  border-bottom:2px solid #c9aa71;
  padding:15px;
  font-size:26px;
  color:#c9aa71;
  font-weight:bold;
  text-transform:uppercase;
  text-align:center;
}
.back-button {
  display:inline-block;
  margin:10px auto;
  padding:8px 16px;
  background:linear-gradient(135deg,#c9aa71,#e0c77b);
  color:#000; text-decoration:none; border-radius:6px; font-weight:bold;
}
.back-button::before{content:"← ";}
.back-button:hover{background:linear-gradient(135deg,#e6c97f,#f0d88b);}
.calc-container{
  max-width:1000px;
  margin:20px auto 50px;
  background: rgba(13,17,23,0.95);
  border:2px solid #2f81f7;
  border-radius:12px;
  padding:20px;
  text-align:left;
}
.section-title{
  color:#c9aa71;
  font-size:20px;
  margin-bottom:10px;
  text-transform:uppercase;
}
.diana-stats{
  margin:10px 0;
  background:rgba(20,25,35,0.85);
  border:1px solid #2f81f7;
  border-radius:8px;
  padding:10px;
  font-size:14px;
}
.enemy-stats{
  display:flex;
  gap:15px;
  margin-bottom:15px;
}
.enemy-stats input{
  width:80px; padding:5px; border-radius:5px; border:1px solid #222;
  background:#0f1722;color:#fff;
}
.rune-tree{
  display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:15px;
}
.rune-column{
  background:rgba(20,25,35,0.8); border:1px solid #2f81f7;
  border-radius:8px; padding:10px;
}
.rune-row{
  display:flex; gap:6px; margin-bottom:6px; flex-wrap:wrap;
}
.rune-row img{
  width:48px; height:48px; border:2px solid transparent; border-radius:4px;
  cursor:pointer;
}
.rune-row img.selected{
  border-color:#c9aa71;
}
.calculate-btn{
  display:block; margin:10px auto; padding:10px 20px;
  font-size:16px;font-weight:bold;
  border:none; border-radius:6px; background:#2f81f7;color:#fff; cursor:pointer;
}
.calculate-btn:hover{background:#1b5fc7;}
.results-box{
  margin-top:12px;
  background:rgba(20,25,35,0.9);
  border:1px solid #c9aa71;
  border-radius:8px;
  padding:12px;
  font-size:14px;
}
.results-box table{width:100%;border-collapse:collapse;margin-bottom:10px;}
.results-box th, .results-box td{padding:4px;text-align:left;border-bottom:1px solid rgba(255,255,255,0.05);}
.results-box th{color:#c9aa71;font-weight:600;}
footer{text-align:center;padding:12px;font-size:14px;color:#8b949e;}
</style>
</head>
<body>
<header>Diana Rune Calculator</header>
<a href="membershub.html" class="back-button">Return to Members Hub</a>

<div class="calc-container">
  <div class="section-title">Diana Stats</div>
  <div class="diana-stats" id="diana-stats"></div>

  <div class="section-title">Enemy Stats</div>
  <div class="enemy-stats">
    <label>HP: <input type="number" id="enemy-hp" value="2000"></label>
    <label>Armor: <input type="number" id="enemy-armor" value="80"></label>
    <label>MR: <input type="number" id="enemy-mr" value="40"></label>
  </div>

  <div class="section-title">Primary Rune Path (Select 1 per row)</div>
  <div class="rune-tree">
    <div class="rune-column" id="primary-tree">
      <div class="rune-row" id="primary-row-0"></div>
      <div class="rune-row" id="primary-row-1"></div>
      <div class="rune-row" id="primary-row-2"></div>
      <div class="rune-row" id="primary-row-3"></div>
    </div>
    <div class="rune-column" id="secondary-tree">
      <div class="rune-row" id="secondary-row-0"></div>
      <div class="rune-row" id="secondary-row-1"></div>
    </div>
  </div>

  <button class="calculate-btn" id="calculate-btn">Calculate Damage</button>

  <div class="results-box">
    <h4>Damage per Rune</h4>
    <table id="rune-results">
      <thead><tr><th>Rune</th><th>Base+Scaling</th><th>After Resistances</th><th>Notes</th></tr></thead>
      <tbody><tr><td colspan="4">Click Calculate</td></tr></tbody>
    </table>
    <p id="total-damage"></p>
  </div>
</div>

<footer>© 2025 LoL Fundamentals · All rights reserved</footer>

<script>
// --- Preset Diana stats per level (example Riot numbers for level 18) ---
const dianaStats = {
  hp: 1780,
  ap: 120,
  ad: 75,
  shield: 300
};
document.getElementById('diana-stats').textContent = `HP: ${dianaStats.hp} | AP: ${dianaStats.ap} | AD: ${dianaStats.ad} | Shield: ${dianaStats.shield}`;

// --- Rune data ---
const runes = [
  // Primary keystones
  {id:'electrocute', name:'Electrocute', row:0, type:'adaptive', base:70, scalingAP:0.5, scalingAD:0.1, notes:'Trigger 3 hits'},
  {id:'phaseRush', name:'Phase Rush', row:0, type:'adaptive', base:0, scalingAP:0, scalingAD:0, notes:'Movement'},
  {id:'arcaneComet', name:'Arcane Comet', row:0, type:'magic', base:30, scalingAP:0.2, notes:'Spell hit'},
  {id:'predator', name:'Predator', row:0, type:'adaptive', base:60, scalingAP:0.3, scalingAD:0.1, notes:'Boot bonus'},

  // Minor runes (example, expand as needed)
  {id:'suddenImpact', name:'Sudden Impact', row:1, type:'adaptive', base:9, scalingAP:0.05, scalingAD:0.05, notes:'On dash'},
  {id:'tasteOfBlood', name:'Taste of Blood', row:2, type:'magic', base:15, scalingAP:0.1, notes:'Heal'},
  {id:'ravenousHunter', name:'Ravenous Hunter', row:3, type:'magic', base:0, scalingAP:0.05, notes:'Heal per damage'}
];

// Secondary tree minor runes
const secondaryRunes = [
  {id:'scorch', name:'Scorch', row:0, type:'magic', base:15, scalingAP:0.1, notes:'Spell hit'},
  {id:'absoluteFocus', name:'Absolute Focus', row:1, type:'magic', base:0, scalingAP:0.1, notes:'AP buff'}
];

// --- Populate rune icons ---
function createRuneIcon(rune, containerId){
  const container = document.getElementById(containerId);
  const img = document.createElement('img');
  img.src = `https://ddragon.leagueoflegends.com/cdn/13.4.1/img/rune/${rune.id}.png`;
  img.title = rune.name;
  img.dataset.id = rune.id;
  img.addEventListener('click',()=>{
    const siblings = img.parentNode.querySelectorAll('img');
    siblings.forEach(s=>s.classList.remove('selected'));
    img.classList.add('selected');
  });
  container.appendChild(img);
}

// Primary
runes.forEach(r=> createRuneIcon(r, `primary-row-${r.row}`));

// Secondary
secondaryRunes.forEach((r, i)=> createRuneIcon(r, `secondary-row-${r.row}`));

// --- Damage calculation ---
function calcDamage(rune, stats, enemyArmor, enemyMR){
  let raw = rune.base;
  if(rune.scalingAP) raw += rune.scalingAP * stats.ap;
  if(rune.scalingAD) raw += rune.scalingAD * stats.ad;
  if(rune.id==='shieldbash') raw += 0.15*stats.shield; // auto shield scaling
  let afterRes = raw;
  if(rune.type==='magic') afterRes = Math.round(raw*100/(100+enemyMR));
  if(rune.type==='physical') afterRes = Math.round(raw*100/(100+enemyArmor));
  if(rune.type==='adaptive'){
    const magic = raw;
    const physical = raw;
    afterRes = Math.round(Math.max(magic, physical)*100/(100+enemyMR)); // simplified adaptive
  }
  return {raw:Math.round(raw), afterRes, notes:rune.notes};
}

// --- Calculate button ---
document.getElementById('calculate-btn').addEventListener('click',()=>{
  const enemyHP = Number(document.getElementById('enemy-hp').value);
  const enemyArmor = Number(document.getElementById('enemy-armor').value);
  const enemyMR = Number(document.getElementById('enemy-mr').value);

  const selectedRunes = [];
  document.querySelectorAll('.rune-tree img.selected').forEach(img=>{
    const r = runes.find(r=>r.id===img.dataset.id) || secondaryRunes.find(r=>r.id===img.dataset.id);
    if(r) selectedRunes.push(r);
  });

  const tbody = document.querySelector('#rune-results tbody');
  tbody.innerHTML = '';
  let total=0;
  selectedRunes.forEach(r=>{
    const dmg = calcDamage(r, dianaStats, enemyArmor, enemyMR);
    total += dmg.afterRes;
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${r.name}</td><td>${dmg.raw}</td><td>${dmg.afterRes}</td><td>${dmg.notes}</td>`;
    tbody.appendChild(tr);
  });
  document.getElementById('total-damage').textContent = `Total Damage: ${total}`;
});
</script>
</body>
</html>




